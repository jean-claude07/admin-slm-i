{"ast":null,"code":"import _classCallCheck from\"/home/jean-claude/Documents/Managin-slmi/polemploie-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/jean-claude/Documents/Managin-slmi/polemploie-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/jean-claude/Documents/Managin-slmi/polemploie-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/jean-claude/Documents/Managin-slmi/polemploie-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{Component}from'react';import{Formik,Form,Field}from'formik';import ErrorField from'../../components/ErrorField';import*as Yup from'yup';import axios from'axios';var AdminSchema=Yup.object().shape({nom:Yup.string().min(3,\" Votre nom trop court.\").required(\"veuiller saisir votre Nom.\"),prenom:Yup.string().min(3,\"Votre prenom est trop court.\").required(\"Veuiller saisir votre prenom.\"),email:Yup.string().lowercase().email('Email invalide  (^_^)').required(\"Veuiller saisir votre email.\"),password:Yup.string().min(6,'Le mot de passe minimum est 6 caractÃ¨re.').required(\"Veuiller saisir votre mot de passe.\"),confirm:Yup.string().required(\"Veuiller saisir votre mot de passe de confirmation.\").oneOf([Yup.ref('password')],'Mot de psse de confirmation incorect.')});export var Admin=/*#__PURE__*/function(_Component){_inherits(Admin,_Component);var _super=_createSuper(Admin);function Admin(){var _this;_classCallCheck(this,Admin);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={pdp:null,admins:[]};_this.handleChange=function(e){_this.setState({pdp:e.target.files[0]});};_this.getAdmins=function(){axios.get('admins').then(function(response){_this.setState({admins:response.data});});};return _this;}_createClass(Admin,[{key:\"componentDidMount\",value:function componentDidMount(){this.getAdmins();}},{key:\"render\",value:function render(){var _this2=this;console.log(this.state.admins);var admins=this.state.admins;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"content-general\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12 col-sm-12 \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"panel-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-sm-6  profile_details\",children:admins&&admins.map(function(admin){var pdp;if(admin.pdpadmin.url){pdp=/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:4000/\".concat(admin&&admin.pdpadmin.url),alt:\"\",className:\"img-circle img-fluid\",height:\"350px\",width:\"500px\"});}else{pdp=/*#__PURE__*/_jsx(\"img\",{src:\"images/img.jpg\",alt:\"\",className:\"img-circle img-fluid\"});};var enligne;if(sessionStorage.id==admin.id){enligne=/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDD34\"});};return/*#__PURE__*/_jsxs(\"div\",{className:\"well profile_view\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-12\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"brief\",children:/*#__PURE__*/_jsxs(\"i\",{children:[\"ADMINISTRATEUR \",enligne,\" \"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"left col-sm-7\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:admin.nom}),\" \",admin.prenom,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"About: \"}),\" administrateur de SLM-I \"]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-unstyled\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-building\"}),\" Address e-mail: \"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"code\",{children:\"==    \"}),\" \",admin.email,\" \"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"right col-sm-5 text-center\",children:pdp})]}),/*#__PURE__*/_jsxs(\"div\",{className:\" bottom text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\" col-sm-6 emphasis\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"ratings\",children:[/*#__PURE__*/_jsx(\"a\",{children:\"4.0\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:/*#__PURE__*/_jsx(\"span\",{className:\"fa fa-star\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:/*#__PURE__*/_jsx(\"span\",{className:\"fa fa-star\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:/*#__PURE__*/_jsx(\"span\",{className:\"fa fa-star\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:/*#__PURE__*/_jsx(\"span\",{className:\"fa fa-star\"})}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:/*#__PURE__*/_jsx(\"span\",{className:\"fa fa-star-o\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\" col-sm-6 emphasis\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-success btn-sm\",children:[\" \",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-user\"}),\" \",/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-comments-o\"}),\" \"]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-primary btn-sm\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-user\",children:\" \"}),\" View Profile\"]})]})]})]});})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-sm-6  profile_details\",children:/*#__PURE__*/_jsx(\"div\",{className:\"well profile_view\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 col-sm-12\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Ajouter  \",/*#__PURE__*/_jsx(\"small\",{children:\"une autre  compte administrateur    \"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"x_title\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"x_content\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Formik,{initialValues:{nom:'',prenom:'',email:'',password:'',pdp:null,confirm:''},validationSchema:AdminSchema,onSubmit:function onSubmit(values){var formData=new FormData();formData.append('pdpadmin',_this2.state.pdp);formData.append('nom',values.nom);formData.append('prenom',values.prenom);formData.append('email',values.email);formData.append('password',values.password);axios.post('admins',formData).then(function(response){console.log(response);});},children:function children(_ref){var errors=_ref.errors,touched=_ref.touched;return/*#__PURE__*/_jsxs(Form,{id:\"demo-form2\",\"data-parsley-validate\":true,className:\"form-horizontal form-label-left\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"col-form-label\",for:\"last-name\",children:[\" Photo \",/*#__PURE__*/_jsxs(\"span\",{className:\"required\",children:[/*#__PURE__*/_jsx(\"code\",{children:\"*\"}),\" :\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"item form-group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 col-sm-12 \",children:[/*#__PURE__*/_jsx(\"span\",{className:\"glyphicon glyphicon-cloud-upload\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(Field,{type:\"file\",id:\"first-name\",name:\"pdp\",required:\"required\",onChange:_this2.handleChange})]})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"col-form-label\",for:\"last-name\",children:[\" Nom \",/*#__PURE__*/_jsxs(\"span\",{className:\"required\",children:[/*#__PURE__*/_jsx(\"code\",{children:\"*\"}),\" :\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"item form-group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 col-sm-12 \",children:[/*#__PURE__*/_jsx(Field,{type:\"text\",id:\"first-name\",name:\"nom\",className:\"form-control \",placeholder:\"Nom\",autoCapitalize:true}),/*#__PURE__*/_jsx(ErrorField,{errors:errors,touched:touched,row:\"nom\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"col-form-label\",for:\"last-name\",children:[\"Prenom \",/*#__PURE__*/_jsxs(\"span\",{className:\"required\",children:[/*#__PURE__*/_jsx(\"code\",{children:\"*\"}),\" :\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"item form-group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 col-sm-12 \",children:[/*#__PURE__*/_jsx(Field,{type:\"text\",id:\"first-name\",name:\"prenom\",className:\"form-control \",placeholder:\"Prenom\"}),/*#__PURE__*/_jsx(ErrorField,{errors:errors,touched:touched,row:\"prenom\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"col-form-label\",for:\"last-name\",children:[\"E-mail \",/*#__PURE__*/_jsxs(\"span\",{className:\"required\",children:[/*#__PURE__*/_jsx(\"code\",{children:\"*\"}),\" :\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"item form-group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 col-sm-12 \",children:[/*#__PURE__*/_jsx(Field,{type:\"email\",id:\"first-name\",name:\"email\",className:\"form-control \",placeholder:\"E-mail\"}),/*#__PURE__*/_jsx(ErrorField,{errors:errors,touched:touched,row:\"email\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"col-form-label\",for:\"last-name\",children:[\"Mot de passe \",/*#__PURE__*/_jsxs(\"span\",{className:\"required\",children:[/*#__PURE__*/_jsx(\"code\",{children:\"*\"}),\" :\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"item form-group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 col-sm-12 \",children:[/*#__PURE__*/_jsx(Field,{type:\"password\",id:\"first-name\",name:\"password\",className:\"form-control \",placeholder:\"Mot de passe\"}),/*#__PURE__*/_jsx(ErrorField,{errors:errors,touched:touched,row:\"password\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"col-form-label\",for:\"last-name\",children:[\"Mot de passe de confirmation \",/*#__PURE__*/_jsxs(\"span\",{className:\"required\",children:[/*#__PURE__*/_jsx(\"code\",{children:\"*\"}),\" :\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"item form-group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 col-sm-12 \",children:[/*#__PURE__*/_jsx(Field,{type:\"password\",id:\"first-name\",name:\"confirm\",className:\"form-control \",placeholder:\"Mot de passe de confirmation\"}),/*#__PURE__*/_jsx(ErrorField,{errors:errors,touched:touched,row:\"confirm\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ln_solid\"}),/*#__PURE__*/_jsx(\"div\",{className:\"item form-group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 col-sm-12 offset-md-3\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",type:\"reset\",children:\"Reset\"}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"btn btn-success\",values:\"Enregistrer\"})]})})]});}})]})]})})})]})})})});}}]);return Admin;}(Component);export default Admin;","map":{"version":3,"sources":["/home/jean-claude/Documents/Managin-slmi/polemploie-admin/src/pages/profileAdmin/Admin.js"],"names":["React","Component","Formik","Form","Field","ErrorField","Yup","axios","AdminSchema","object","shape","nom","string","min","required","prenom","email","lowercase","password","confirm","oneOf","ref","Admin","state","pdp","admins","handleChange","e","setState","target","files","getAdmins","get","then","response","data","console","log","map","admin","pdpadmin","url","enligne","sessionStorage","id","values","formData","FormData","append","post","errors","touched"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {Formik, Form, Field} from 'formik';\nimport ErrorField from '../../components/ErrorField';\nimport * as Yup from 'yup';\nimport axios from 'axios';\n\nconst AdminSchema = Yup.object().shape({\n\tnom: Yup.string()\n\t\t.min(3, \" Votre nom trop court.\")\n\t\t.required(\"veuiller saisir votre Nom.\"),\n\tprenom: Yup.string()\n\t\t.min(3, \"Votre prenom est trop court.\")\n\t\t.required(\"Veuiller saisir votre prenom.\"),\n\temail: Yup.string()\n\t\t.lowercase()\n\t\t.email('Email invalide  (^_^)')\n\t\t.required(\"Veuiller saisir votre email.\"),\n\tpassword: Yup.string()\n\t\t.min(6, 'Le mot de passe minimum est 6 caractÃ¨re.')\n\t\t.required(\"Veuiller saisir votre mot de passe.\"),\n\tconfirm: Yup.string()\n\t\t.required(\"Veuiller saisir votre mot de passe de confirmation.\")\n\t\t.oneOf([Yup.ref('password')], 'Mot de psse de confirmation incorect.'),\n\t\n});\n\n\n\nexport class Admin extends Component {\n    state={\n        pdp: null,\n        admins: []\n    }\n\n    handleChange = e => {\n        this.setState({\n            pdp: e.target.files[0],\n            \n        })\n    }\n\n    componentDidMount(){\n        this.getAdmins();\n    }\n\n    getAdmins = () => {\n        axios.get('admins').then(response => {\n            this.setState({\n                admins: response.data\n            })\n        })\n    }\n    render() {\n        console.log(this.state.admins)\n        const admins = this.state.admins\n        return (\n            <>\n            <div className=\"content-general\">  \n                <div className=\"col-md-12 col-sm-12 \">\n                    <div className=\"panel-content\">\n                    \n                        <div className=\"col-md-6 col-sm-6  profile_details\">\n                        {admins && admins.map(admin => { \n                            let pdp;\n                            if(admin.pdpadmin.url){\n                                pdp = (\n                                    <img  src={`http://localhost:4000/${admin && admin.pdpadmin.url}`} alt=\"\" className=\"img-circle img-fluid\" height=\"350px\" width=\"500px\"/>\n                                )\n                            }else{\n                                pdp = (\n                                    <img src=\"images/img.jpg\" alt=\"\" className=\"img-circle img-fluid\"/>\n                                )\n                            };\n                           \n                            let enligne;\n                            if(sessionStorage.id == admin.id){\n                                enligne = (\n                                    <span>ðŸ”´</span>\n                                )\n                            };\n                            return ( \n                            <div className=\"well profile_view\">\n                                <div className=\"col-sm-12\">\n                                    <h4 className=\"brief\"><i>ADMINISTRATEUR {enligne} </i></h4>\n                                    <div className=\"left col-sm-7\">\n                                    <h3><strong>{admin.nom}</strong> {admin.prenom} </h3>\n                                    <p><strong>About: </strong> administrateur de SLM-I </p>\n                                    <ul className=\"list-unstyled\">\n                                        <li><i className=\"fa fa-building\"></i> Address e-mail: </li>\n                                        <li><code>==    </code> {admin.email} </li>\n                                    </ul>\n                                    </div>\n                                    <div className=\"right col-sm-5 text-center\">\n                                        {pdp}\n                                    </div>\n                                </div>\n                                <div className=\" bottom text-center\">\n                                    <div className=\" col-sm-6 emphasis\">\n                                    <p className=\"ratings\">\n                                        <a>4.0</a>\n                                        <a href=\"#\"><span className=\"fa fa-star\"></span></a>\n                                        <a href=\"#\"><span className=\"fa fa-star\"></span></a>\n                                        <a href=\"#\"><span className=\"fa fa-star\"></span></a>\n                                        <a href=\"#\"><span className=\"fa fa-star\"></span></a>\n                                        <a href=\"#\"><span className=\"fa fa-star-o\"></span></a>\n                                    </p>\n                                    </div>\n                                    <div className=\" col-sm-6 emphasis\">\n                                    <button type=\"button\" className=\"btn btn-success btn-sm\"> <i className=\"fa fa-user\">\n                                        </i> <i className=\"fa fa-comments-o\"></i> </button>\n                                    <button type=\"button\" className=\"btn btn-primary btn-sm\">\n                                        <i className=\"fa fa-user\"> </i> View Profile\n                                    </button>\n                                    </div>\n                                </div>\n                            </div>)})}\n                        </div>\n\n                            {/* #addProphile */}\n                            <div className=\"col-md-6 col-sm-6  profile_details\">\n                                <div className=\"well profile_view\">\n                                    <div className=\"col-md-12 col-sm-12\">\n                                    \n                                         <h2>Ajouter  <small>une autre  compte administrateur    </small></h2>\n                                        <div className=\"x_title\">\n                                                  \n                                        </div>\n                                        <div className=\"x_content\">\n                                            <br />\n                                            <Formik\n                                            initialValues={{\n                                                nom: '',\n                                                prenom: '',\n                                                email: '',\n                                                password: '',\n                                                pdp: null,\n                                                confirm: ''\n                                            }}\n                                            validationSchema={AdminSchema}\n                                            onSubmit={(values) => {\n                                                const formData = new FormData();\n    \n                                                formData.append('pdpadmin', this.state.pdp )\n                                                formData.append('nom', values.nom)\n                                                formData.append('prenom', values.prenom)\n                                                formData.append('email', values.email)\n                                                formData.append('password', values.password)\n    \n                                                axios.post('admins', formData).then(response => {\n                                                    console.log(response)\n                                                })\n                                            }}\n                                            >\n                                            {({errors, touched}) => (\n                                                <Form id=\"demo-form2\" data-parsley-validate className=\"form-horizontal form-label-left\">\n                                                    <div>\n                                                    <label className=\"col-form-label\" for=\"last-name\"> Photo <span className=\"required\"><code>*</code> :</span>\n                                                    </label>\n                                                        <div className=\"item form-group\">\n                                                            <div className=\"col-md-12 col-sm-12 \">\n                                                            <span className=\"glyphicon glyphicon-cloud-upload\" aria-hidden=\"true\"></span>\n                                                                <Field type=\"file\" id=\"first-name\" name=\"pdp\" required=\"required\" onChange={this.handleChange} />\n                                                                \n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                    <div>\n                                                    <label className=\"col-form-label\" for=\"last-name\"> Nom <span className=\"required\"><code>*</code> :</span>\n                                                    </label>\n                                                        <div className=\"item form-group\">\n                                                        \n                                                            <div className=\"col-md-12 col-sm-12 \">\n                                                                <Field type=\"text\" id=\"first-name\" name=\"nom\" className=\"form-control \" placeholder=\"Nom\" autoCapitalize />\n                                                                <ErrorField errors={errors} touched={touched} row=\"nom\"/>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                    <div>\n                                                    <label className=\"col-form-label\" for=\"last-name\">Prenom <span className=\"required\"><code>*</code> :</span>\n                                                    </label>\n                                                        <div className=\"item form-group\">\n                                                        \n                                                            <div className=\"col-md-12 col-sm-12 \">\n                                                                <Field type=\"text\" id=\"first-name\" name=\"prenom\" className=\"form-control \" placeholder=\"Prenom\"/>\n                                                                <ErrorField errors={errors} touched={touched} row=\"prenom\"/>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                    <div>\n                                                    <label className=\"col-form-label\" for=\"last-name\">E-mail <span className=\"required\"><code>*</code> :</span>\n                                                    </label>\n                                                        <div className=\"item form-group\">\n                                                        \n                                                            <div className=\"col-md-12 col-sm-12 \">\n                                                                <Field type=\"email\" id=\"first-name\" name=\"email\" className=\"form-control \" placeholder=\"E-mail\"/>\n                                                                <ErrorField errors={errors} touched={touched} row=\"email\"/>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                    \n                                                    <div>\n                                                    <label className=\"col-form-label\" for=\"last-name\">Mot de passe <span className=\"required\"><code>*</code> :</span>\n                                                    </label>\n                                                        <div className=\"item form-group\">\n                                                        \n                                                            <div className=\"col-md-12 col-sm-12 \">\n                                                                <Field type=\"password\" id=\"first-name\" name=\"password\" className=\"form-control \" placeholder=\"Mot de passe\"/>\n                                                                <ErrorField errors={errors} touched={touched} row=\"password\"/>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                    <div>\n                                                    <label className=\"col-form-label\" for=\"last-name\">Mot de passe de confirmation <span className=\"required\"><code>*</code> :</span>\n                                                    </label>\n                                                        <div className=\"item form-group\">\n                                                        \n                                                            <div className=\"col-md-12 col-sm-12 \">\n                                                                <Field type=\"password\" id=\"first-name\" name=\"confirm\" className=\"form-control \" placeholder=\"Mot de passe de confirmation\"/>\n                                                                <ErrorField errors={errors} touched={touched} row=\"confirm\"/>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                    <div className=\"ln_solid\"></div>\n                                                    <div className=\"item form-group\">\n                                                        <div className=\"col-md-12 col-sm-12 offset-md-3\">\n                                                            <button className=\"btn btn-primary\" type=\"reset\">Reset</button>\n                                                            <input type=\"submit\" className=\"btn btn-success\" values=\"Enregistrer\"/>\n                                                        </div>\n                                                    </div>\n\n                                                </Form>)}\n                                            </Formik>\n                                        </div>\n                                    \n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                </div>\n                \n            </div>\n        </>\n        )\n    }\n}\n\nexport default Admin;\n"]},"metadata":{},"sourceType":"module"}