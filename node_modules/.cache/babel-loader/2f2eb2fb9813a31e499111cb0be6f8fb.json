{"ast":null,"code":"import _classCallCheck from\"/home/jean-claude/Documents/Managin-slmi/polemploie-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/jean-claude/Documents/Managin-slmi/polemploie-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/jean-claude/Documents/Managin-slmi/polemploie-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/jean-claude/Documents/Managin-slmi/polemploie-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{Component}from'react';import axios from'axios';import{Formik,Form,Field}from'formik';export var DebutantModal=/*#__PURE__*/function(_Component){_inherits(DebutantModal,_Component);var _super=_createSuper(DebutantModal);function DebutantModal(){var _this;_classCallCheck(this,DebutantModal);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={choix:'',question:'',responseQ:{},reponse:'',etapes:'',questiondebutant:{},choixquestiondebutants:[]};_this.handleClick=function(e){e.preventDefault();_this.setState({etapes:2});};_this.handleEnd=function(e){e.preventDefault();var resp=new FormData();resp.append('questiondebutant_id',_this.state.responseQ.id);resp.append('reponse',_this.state.reponse);axios.post('reponsequestiondebutants',resp).then(function(response){if(response.status==201){window.location.reload();}});};_this.handleChoix=function(e){_this.setState({choix:e.target.value});};_this.handleQuestion=function(e){_this.setState({question:e.target.value});};_this.handleSbubmit1=function(e){e.preventDefault();var data=new FormData();data.append('question',_this.state.question);axios.post('questiondebutants',data).then(function(response){if(response.status==201){_this.setState({responseQ:response.data});_this.setState({etapes:1});}});};_this.handleChoise=function(e){e.preventDefault();_this.setState({reponse:e.target.value});};_this.handleSbubmit2=function(e){e.preventDefault();var formData=new FormData();formData.append('questiondebutant_id',_this.state.responseQ.id);formData.append('choix',_this.state.choix);axios.post('choixquestiondebutants',formData).then(function(response){console.log(response);if(response.status==201){_this.getNiveau();}});};_this.getNiveau=function(){axios.get('question').then(function(response){_this.setState({questiondebutant:response.data.question});_this.setState({choixquestiondebutants:response.data.choix});});};return _this;}_createClass(DebutantModal,[{key:\"componentDidMount\",value:function componentDidMount(){this.getNiveau();}},{key:\"render\",value:function render(){var _this2=this;var choixs=this.state.choixquestiondebutants;var choix;if(this.state.choix){choix=/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"btn btn-primary btn-lg btn-block\",type:\"button\",value:this.state.choix})})});}var etape;if(this.state.etapes==1){etape=/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-primary\",children:\"choix de reponse :\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{className:\"input-group\",onSubmit:this.handleSbubmit2,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Choix sur la question\",onChange:this.handleChoix}),/*#__PURE__*/_jsx(\"span\",{className:\"input-group-btn\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"valider\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"input-group-btn\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-success\",onClick:this.handleClick,children:\"suivant\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-primary\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-warning btn-lg btn-block\",children:[this.state.question,\" \"]}),choixs&&choixs.map(function(choix){var check;if(_this2.state.question){check=/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"Form\",children:/*#__PURE__*/_jsx(\"input\",{className:\"btn btn-primary btn-lg btn-block\",name:\"reponse\",type:\"button\",value:choix.choix})}),/*#__PURE__*/_jsx(\"div\",{})]})});}return/*#__PURE__*/_jsx(\"div\",{children:check});})]}),choix]})]});}else if(this.state.etapes==2){var anse;if(this.state.reponse){anse=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"divider-dashed\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-primary\",children:\"La reponse est\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-success btn-lg btn-block\",children:[this.state.reponse,\" \"]})]});}etape=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-primary\",children:\"choisisez votre reponse :\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-warning btn-lg btn-block\",children:[this.state.questiondebutant.question,\" \"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"text-primary\",children:choixs&&choixs.map(function(choix){var click=\"btn btn-primary btn-lg btn-block\";return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"Form\",children:/*#__PURE__*/_jsx(\"input\",{id:\"input\",className:click,name:\"reponse\",type:\"button\",value:choix.choix,onClick:_this2.handleChoise})}),/*#__PURE__*/_jsx(\"div\",{})]})});})}),anse]});}else{var put;if(this.state.question){put=/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-warning btn-lg btn-block\",children:[this.state.question,\" \"]});}etape=/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{className:\"input-group\",onSubmit:this.handleSbubmit1,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Votre question ?\",onChange:this.handleQuestion}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"input-group-btn\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-info\",children:\"suivant\"})})]}),put]});};var button;if(this.state.reponse){button=/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",onClick:this.handleEnd,children:\"Sauvegarder\"});}else{button=/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Sauvegarder\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-info\",\"data-toggle\":\"modal\",\"data-target\":\"#staticBackdrop\",children:\"Ajouter des question niveau debutant\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"staticBackdrop\",\"data-backdrop\":\"static\",\"data-keyboard\":\"false\",tabindex:\"-1\",\"aria-labelledby\":\"staticBackdropLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"modal-title\",id:\"staticBackdropLabel\",children:\"Modal title\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"close\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(\"span\",{\"aria-hidden\":\"true\",children:\"\\xD7\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{children:etape})})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer\",children:button})]})})})]});}}]);return DebutantModal;}(Component);export default DebutantModal;","map":{"version":3,"sources":["/home/jean-claude/Documents/Managin-slmi/polemploie-admin/src/pages/test/debutant/DebutantModal.js"],"names":["React","Component","axios","Formik","Form","Field","DebutantModal","state","choix","question","responseQ","reponse","etapes","questiondebutant","choixquestiondebutants","handleClick","e","preventDefault","setState","handleEnd","resp","FormData","append","id","post","then","response","status","window","location","reload","handleChoix","target","value","handleQuestion","handleSbubmit1","data","handleChoise","handleSbubmit2","formData","console","log","getNiveau","get","choixs","etape","map","check","anse","click","put","button"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios';\nimport {Formik, Form, Field} from 'formik';\n\nexport class DebutantModal extends Component {\n    state={\n        choix: '',\n        question: '',\n        responseQ: {},\n        reponse: '',\n        etapes : '',\n        questiondebutant: {},\n        choixquestiondebutants: []\n    }\n\n    handleClick = e => {\n        e.preventDefault();\n        this.setState({\n            etapes: 2\n        })\n    }\n\n    handleEnd = e => {\n        e.preventDefault();\n        const resp = new FormData;\n        resp.append('questiondebutant_id', this.state.responseQ.id )\n        resp.append('reponse', this.state.reponse)\n        axios.post('reponsequestiondebutants', resp).then(response => {\n            if(response.status == 201) {\n                window.location.reload();\n            }\n        })\n    }\n\n    handleChoix = (e) => {\n        this.setState({\n            choix: e.target.value\n        })\n    }\n\n    handleQuestion = e => {\n        this.setState({\n            question: e.target.value\n        })\n    }\n\n    handleSbubmit1 = e => {\n        e.preventDefault();\n        const data = new FormData;\n        data.append('question', this.state.question)\n        axios.post('questiondebutants', data ).then(response => {\n         \n            if(response.status == 201){\n                this.setState({\n                    responseQ: response.data\n                })\n                this.setState({\n                    etapes: 1\n                })\n            }\n        })\n    }\n\n    handleChoise = (e) => {\n        e.preventDefault();\n     \n        this.setState({\n            reponse: e.target.value\n        })\n    }\n\n    handleSbubmit2 = (e) => {\n        e.preventDefault();\n        const formData = new FormData;\n        formData.append('questiondebutant_id', this.state.responseQ.id )\n        formData.append('choix', this.state.choix)\n        axios.post('choixquestiondebutants', formData).then(response => {\n            console.log(response)\n            if(response.status == 201){\n                this.getNiveau();\n                \n            }\n        })\n    }\n\n    componentDidMount() {\n        this.getNiveau();\n    }\n\n    getNiveau = () => {\n        axios.get('question')\n            .then(response => {\n             \n                this.setState({\n                    questiondebutant: response.data.question\n                })\n\n                this.setState({\n                    choixquestiondebutants: response.data.choix\n                })\n                \n            })\n    }\n    \n    render() {\n        const choixs =this.state.choixquestiondebutants\n        var choix;\n        if(this.state.choix){\n            choix = (\n                <>\n                    <label>\n                        <input className=\"btn btn-primary btn-lg btn-block\" type=\"button\" value={this.state.choix}/> \n                    </label>\n                </>\n            )\n        }\n\n        let etape;\n        if(this.state.etapes == 1){\n            etape = (\n                <div>\n                <p className=\"text-primary\">choix de reponse :</p>\n                    <div >\n                        <form className=\"input-group\" onSubmit={this.handleSbubmit2} >\n                            <input type=\"text\" className=\"form-control\" placeholder=\"Choix sur la question\" onChange={this.handleChoix} />\n                            <span className=\"input-group-btn\">\n                                <button type=\"submit\" className=\"btn btn-primary\">valider</button>\n                            </span>\n                            <span className=\"input-group-btn\">\n                                <button type=\"button\" className=\"btn btn-success\" onClick={this.handleClick} >suivant</button>\n                            </span>\n                        </form>\n                    </div>\n                    <div className=\"right\">\n                        <div className=\"text-primary\">\n                        <button type=\"button\" className=\"btn btn-warning btn-lg btn-block\">{this.state.question} </button>\n                            {choixs && choixs.map(choix => {\n                                let check;\n                                if(this.state.question){\n                                    check = (\n                                        <>\n                                        \n                                        <form>\n                                            <div className=\"Form\">\n                                                <input className=\"btn btn-primary btn-lg btn-block\" name=\"reponse\" type=\"button\" value={choix.choix} />\n                                            </div>\n                                            <div>\n                                            \n                                            </div>\n                                        </form>\n                                        </>\n                                      \n                                    )\n                                }\n                                return (\n                                    <div>\n                                        {check}\n                                    </div>\n                                )\n                            })}\n                        </div>\n                        {choix}\n                    </div>\n                </div>\n                \n            )\n        }else if(this.state.etapes == 2){\n            let anse;\n            if(this.state.reponse){\n                anse = (\n                    <>\n                      \n                        <div className=\"divider-dashed\"></div>\n                        <p className=\"text-primary\">La reponse est</p>\n                        <br/>\n                        <button type=\"button\" className=\"btn btn-success btn-lg btn-block\">{this.state.reponse} </button>\n                    </>\n                )\n            }\n            etape = (\n                <>\n                <p className=\"text-primary\">choisisez votre reponse :</p>\n                <button type=\"button\" className=\"btn btn-warning btn-lg btn-block\">{this.state.questiondebutant.question} </button>\n                <br/>\n                    <div className=\"text-primary\">\n\n                        {choixs && choixs.map(choix => {\n                        const click = \"btn btn-primary btn-lg btn-block\"\n                        \n                            return (\n                                <div>\n                                    \n                                    <form >\n                                        <div className=\"Form\">\n                                            <input id=\"input\" className={click}\n                                             name=\"reponse\" type=\"button\" value={choix.choix} onClick={this.handleChoise}  />\n                                        </div>\n                                        <div>\n                                        \n                                        </div>\n                                    </form>\n                                \n                                </div>\n                            )\n                        })}\n                    </div>\n                    {anse}\n                </>\n            )\n        }else{\n            let put;\n            if(this.state.question){\n                put = (\n                    <button type=\"button\" className=\"btn btn-warning btn-lg btn-block\">{this.state.question} </button>\n                )\n            }\n            etape = (\n            <div>\n                              \n                <form className=\"input-group\" onSubmit={this.handleSbubmit1}>\n                    <input type=\"text\" className=\"form-control\" placeholder=\"Votre question ?\" onChange={this.handleQuestion} />\n                    <br/>\n                    <span className=\"input-group-btn\">\n                        <button type=\"submit\" className=\"btn btn-info\">suivant</button>\n                    </span>\n                </form>\n                {put}\n            </div>\n            )\n        };\n\n        let button;\n        if(this.state.reponse){\n            button = (\n                <button type=\"submit\" className=\"btn btn-primary\" onClick={this.handleEnd}>Sauvegarder</button>\n            )\n        }else{\n            button =(\n                <button type=\"submit\" className=\"btn btn-primary\" >Sauvegarder</button>\n            )\n        }\n        return (\n            <div>\n                <button type=\"button\" className=\"btn btn-outline-info\" data-toggle=\"modal\" data-target=\"#staticBackdrop\" >\n                    Ajouter des question niveau debutant\n                </button>\n\n                \n                <div className=\"modal fade\" id=\"staticBackdrop\" data-backdrop=\"static\" data-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\"  aria-hidden=\"true\">\n                <div className=\"modal-dialog\">\n                    <div className=\"modal-content\">\n                    <div className=\"modal-header\">\n                        <h5 className=\"modal-title\" id=\"staticBackdropLabel\">Modal title</h5>\n                        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                        <span aria-hidden=\"true\">&times;</span>\n                        </button>\n                    </div>\n                    <div className=\"modal-body\" >\n                    <div className=\"container\">\n                        <div>\n                           {etape}\n                        </div>\n                        \n                        \n                        \n\n                    </div>  \n                    \n                    </div>\n                    <div className=\"modal-footer\">\n                        {button}\n                    </div>\n                    </div>\n                </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default DebutantModal;\n"]},"metadata":{},"sourceType":"module"}