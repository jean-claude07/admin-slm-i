{"ast":null,"code":"import _classCallCheck from\"/home/jean-claude/Documents/Managin-slmi/polemploie-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/jean-claude/Documents/Managin-slmi/polemploie-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/jean-claude/Documents/Managin-slmi/polemploie-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/jean-claude/Documents/Managin-slmi/polemploie-admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component}from'react';import axios from'axios';import Plus from'./Plus';export var Disposition=/*#__PURE__*/function(_Component){_inherits(Disposition,_Component);var _super=_createSuper(Disposition);function Disposition(){var _this;_classCallCheck(this,Disposition);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={disponible:''};_this.onClick=function(e){e.preventDefault();_this.setState({disponible:'non'});axios.patch(\"chauffeurs/\".concat(_this.props.chauffeur.id),{disponible:'non'}).then(function(resp){if(resp.status===200){window.location.reload();}});};_this.deleteChauffeur=function(chauffeur){axios.delete(\"/chauffeurs/\".concat(_this.props.chauffeur.id)).then(function(response){if(response.status===204){_this.props.getChauffeurs();}});};return _this;}_createClass(Disposition,[{key:\"render\",value:function render(){var _this2=this;console.log(this.props);var chauffeur;if(this.props.chauffeur.disponible==\"oui\"){var button;if(this.state.disponible===\"non\"){button=/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-primary\",children:\"Non disponible\"});}else{button=/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-primary\",onClick:this.onClick,children:\"Disponible\"});}chauffeur=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:4000/\".concat(this.props.chauffeur.photo.url),className:\"rounded-circle\",width:\"50px\",height:\"50px\"})}),/*#__PURE__*/_jsxs(\"td\",{children:[this.props.chauffeur.prenom,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[this.props.chauffeur.categorie_permis,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[this.props.chauffeur.adresse,\" \"]}),/*#__PURE__*/_jsxs(\"td\",{children:[this.props.chauffeur.province,\" \"]}),/*#__PURE__*/_jsx(\"td\",{children:button}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Plus,{})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"content_td\",children:/*#__PURE__*/_jsxs(\"ul\",{class:\"nav navbar-right panel_toolbox\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[\" \",/*#__PURE__*/_jsx(\"a\",{className:\"btn btn-danger\",onClick:function onClick(){return _this2.deleteChauffeur(chauffeur);},role:\"button\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-trash\"})})]}),/*#__PURE__*/_jsxs(\"li\",{children:[\" \",/*#__PURE__*/_jsx(\"a\",{className:\"btn btn-success\",role:\"button\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-paper-plane-o\"})})]})]})})})]});}return/*#__PURE__*/_jsx(_Fragment,{children:chauffeur});}}]);return Disposition;}(Component);export default Disposition;","map":{"version":3,"sources":["/home/jean-claude/Documents/Managin-slmi/polemploie-admin/src/pages/chauffeurs_admin/Disposition.js"],"names":["React","Component","axios","Plus","Disposition","state","disponible","onClick","e","preventDefault","setState","patch","props","chauffeur","id","then","resp","status","window","location","reload","deleteChauffeur","delete","response","getChauffeurs","console","log","button","photo","url","prenom","categorie_permis","adresse","province"],"mappings":"6zBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CAEA,UAAaC,CAAAA,WAAb,+UACIC,KADJ,CACU,CACFC,UAAU,CAAE,EADV,CADV,OAKIC,OALJ,CAKc,SAAAC,CAAC,CAAI,CACXA,CAAC,CAACC,cAAF,GACA,MAAKC,QAAL,CAAc,CACVJ,UAAU,CAAE,KADF,CAAd,EAIAJ,KAAK,CAACS,KAAN,sBAA0B,MAAKC,KAAL,CAAWC,SAAX,CAAqBC,EAA/C,EAAqD,CAACR,UAAU,CAAE,KAAb,CAArD,EAA0ES,IAA1E,CAA+E,SAAAC,IAAI,CAAI,CAC/E,GAAGA,IAAI,CAACC,MAAL,GAAgB,GAAnB,CAAuB,CACnBC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACH,CACJ,CAJL,EAKH,CAhBL,OAkBIC,eAlBJ,CAkBsB,SAACR,SAAD,CAAe,CAC7BX,KAAK,CAACoB,MAAN,uBAA4B,MAAKV,KAAL,CAAWC,SAAX,CAAqBC,EAAjD,GAAuDC,IAAvD,CAA4D,SAAAQ,QAAQ,CAAI,CACpE,GAAIA,QAAQ,CAACN,MAAT,GAAoB,GAAxB,CAA6B,CACzB,MAAKL,KAAL,CAAWY,aAAX,GACH,CACJ,CAJD,EAKH,CAxBL,8EA0Ba,iBACLC,OAAO,CAACC,GAAR,CAAY,KAAKd,KAAjB,EACA,GAAIC,CAAAA,SAAJ,CACA,GAAG,KAAKD,KAAL,CAAWC,SAAX,CAAqBP,UAArB,EAAmC,KAAtC,CAA4C,CACxC,GAAIqB,CAAAA,MAAJ,CACA,GAAG,KAAKtB,KAAL,CAAWC,UAAX,GAA0B,KAA7B,CAAmC,CAC/BqB,MAAM,cACF,eAAQ,KAAK,CAAC,iBAAd,4BADJ,CAIH,CALD,IAKK,CACDA,MAAM,cACF,eAAS,KAAK,CAAC,iBAAf,CAAiC,OAAO,CAAE,KAAKpB,OAA/C,wBADJ,CAGH,CACDM,SAAS,cACL,wCACI,iCACI,YAAK,GAAG,iCAA2B,KAAKD,KAAL,CAAWC,SAAX,CAAqBe,KAArB,CAA2BC,GAAtD,CAAR,CAAqE,SAAS,CAAC,gBAA/E,CAAgG,KAAK,CAAC,MAAtG,CAA6G,MAAM,CAAC,MAApH,EADJ,EADJ,cAII,sBAAM,KAAKjB,KAAL,CAAWC,SAAX,CAAqBiB,MAA3B,OAJJ,cAKI,sBAAK,KAAKlB,KAAL,CAAWC,SAAX,CAAqBkB,gBAA1B,OALJ,cAMI,sBAAK,KAAKnB,KAAL,CAAWC,SAAX,CAAqBmB,OAA1B,OANJ,cAOI,sBAAK,KAAKpB,KAAL,CAAWC,SAAX,CAAqBoB,QAA1B,OAPJ,cAQI,oBACKN,MADL,EARJ,cAWI,iCACI,KAAC,IAAD,IADJ,EAXJ,cAcI,iCACI,YAAK,SAAS,CAAC,YAAf,uBACA,YAAI,KAAK,CAAC,gCAAV,wBACI,uCAAK,UAAI,SAAS,CAAC,gBAAd,CAA+B,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACN,eAAL,CAAqBR,SAArB,CAAN,EAAxC,CAA+E,IAAI,CAAC,QAApF,uBACD,UAAG,SAAS,CAAC,aAAb,EADC,EAAL,GADJ,cAMI,uCAAK,UAAG,SAAS,CAAC,iBAAb,CAA+B,IAAI,CAAC,QAApC,uBACG,UAAG,KAAK,CAAC,qBAAT,EADH,EAAL,GANJ,GADA,EADJ,EAdJ,GADJ,CAiCH,CACD,mBACI,yBACKA,SADL,EADJ,CAMH,CAjFL,yBAAiCZ,SAAjC,EAoFA,cAAeG,CAAAA,WAAf","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios';\nimport Plus from './Plus';\n\nexport class Disposition extends Component {\n    state={\n        disponible: ''\n    }\n\n    onClick = e => {\n        e.preventDefault()\n        this.setState({\n            disponible: 'non'\n        })\n        \n        axios.patch(`chauffeurs/${this.props.chauffeur.id}`, {disponible: 'non'}).then(resp => {\n                if(resp.status === 200){\n                    window.location.reload()\n                }\n            })\n    }\n\n    deleteChauffeur = (chauffeur) => {\n        axios.delete(`/chauffeurs/${this.props.chauffeur.id}`).then(response => {\n            if (response.status === 204) {\n                this.props.getChauffeurs();\n            }\n        })\n    }\n\n    render() {\n        console.log(this.props)\n        let chauffeur;\n        if(this.props.chauffeur.disponible == \"oui\"){\n            let button;\n            if(this.state.disponible === \"non\"){\n                button = (\n                    <button class=\"btn btn-primary\" >Non disponible</button>\n                    \n                )\n            }else{\n                button = (\n                    <button  class=\"btn btn-primary\" onClick={this.onClick}>Disponible</button>\n                )\n            }\n            chauffeur = (\n                <>\n                    <td>\n                        <img src={`http://localhost:4000/${this.props.chauffeur.photo.url}`} className=\"rounded-circle\" width=\"50px\" height=\"50px\" />\n                    </td>\n                    <td >{this.props.chauffeur.prenom} </td>\n                    <td>{this.props.chauffeur.categorie_permis} </td>\n                    <td>{this.props.chauffeur.adresse} </td>\n                    <td>{this.props.chauffeur.province} </td>\n                    <td>\n                        {button}\n                    </td>\n                    <td>\n                        <Plus/>\n                    </td>\n                    <td>  \n                        <div className=\"content_td\">\n                        <ul class=\"nav navbar-right panel_toolbox\">\n                            <li> <a  className=\"btn btn-danger\" onClick={() => this.deleteChauffeur(chauffeur)} role=\"button\">\n                                <i className=\"fa fa-trash\"></i>\n                                </a>\n                            </li>\n                            \n                            <li> <a className=\"btn btn-success\" role=\"button\">\n                                    <i class=\"fa fa-paper-plane-o\"></i>\n                                    </a>\n                            </li>\n                        </ul>\n                        </div>\n                    </td>\n                    \n                </>\n            )\n        }\n        return (\n            <>\n                {chauffeur}\n            </>\n            \n        )\n    }\n}\n\nexport default Disposition\n"]},"metadata":{},"sourceType":"module"}